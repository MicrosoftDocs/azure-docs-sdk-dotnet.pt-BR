---
title: Escolher a opção de hospedagem certa do Azure
description: Saiba qual caminho de migração do Azure é correto para seu aplicativo Web ASP.NET.
author: CESARDELATORRE
ms.author: cesardl
ms.date: 11/15/2017
ms.openlocfilehash: 7c0d10436efa86c3d4a60f80e2eebd935ee01cee
ms.sourcegitcommit: 5d9b713653b3d03e1d0a67f6e126ee399d1c2a60
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/26/2018
ms.locfileid: "47190609"
---
# <a name="choose-the-right-azure-hosting-option"></a><span data-ttu-id="e7349-103">Escolher a opção de hospedagem certa do Azure</span><span class="sxs-lookup"><span data-stu-id="e7349-103">Choose the right Azure hosting option</span></span>

<span data-ttu-id="e7349-104">Este documento fornece várias considerações e comparações entre as várias opções disponíveis no Azure ao migrar seus aplicativos .NET Framework existentes do local para o Azure.</span><span class="sxs-lookup"><span data-stu-id="e7349-104">This document provides multiple considerations and comparisons between the multiple choices you have in Azure when migrating your existing .NET Framework applications from on-premises to Azure.</span></span>

<span data-ttu-id="e7349-105">As áreas fundamentais a considerar ao migrar os aplicativos .NET existentes para o Azure são:</span><span class="sxs-lookup"><span data-stu-id="e7349-105">The fundamental areas to consider when migrating existing .NET applications to Azure are:</span></span>

1.  <span data-ttu-id="e7349-106">Opções de computação</span><span class="sxs-lookup"><span data-stu-id="e7349-106">Compute choices</span></span>
2.  <span data-ttu-id="e7349-107">Opções de banco de dados</span><span class="sxs-lookup"><span data-stu-id="e7349-107">Database choices</span></span>
3.  <span data-ttu-id="e7349-108">Considerações de rede e segurança</span><span class="sxs-lookup"><span data-stu-id="e7349-108">Networking and security considerations</span></span>
4.  <span data-ttu-id="e7349-109">Considerações de autenticação e autorização</span><span class="sxs-lookup"><span data-stu-id="e7349-109">Authentication and authorization considerations</span></span>

## <a name="compute-choices"></a><span data-ttu-id="e7349-110">Opções de computação</span><span class="sxs-lookup"><span data-stu-id="e7349-110">Compute choices</span></span>

<span data-ttu-id="e7349-111">Ao migrar os aplicativos .NET Framework existentes para o Azure, você tem várias opções.</span><span class="sxs-lookup"><span data-stu-id="e7349-111">When migrating existing .NET Framework applications to Azure you have multiple choices.</span></span>  <span data-ttu-id="e7349-112">No entanto, como o .NET Framework depende do Windows, as seguintes opções são limitadas aos serviços de computação baseados no Windows.</span><span class="sxs-lookup"><span data-stu-id="e7349-112">However, since .NET Framework depends on Windows, the following choices are limited to Windows-based compute services.</span></span>

<span data-ttu-id="e7349-113">A tabela a seguir mostra várias comparações e recomendações para ajudá-lo a escolher o caminho de migração da computação correto para seu aplicativo .NET existente.</span><span class="sxs-lookup"><span data-stu-id="e7349-113">The following table shows several comparisons and recommendations to help you choose the right compute migration path for your existing .NET application.</span></span>

|                 | <span data-ttu-id="e7349-114">VMs do Azure</span><span class="sxs-lookup"><span data-stu-id="e7349-114">Azure VMs</span></span> | <span data-ttu-id="e7349-115">Serviço de aplicativo do Azure</span><span class="sxs-lookup"><span data-stu-id="e7349-115">Azure App Service</span></span> | <span data-ttu-id="e7349-116">Contêineres do Windows</span><span class="sxs-lookup"><span data-stu-id="e7349-116">Windows Containers</span></span> |
|-----------------|-----------|-------------------|--------------------|
|<span data-ttu-id="e7349-117">Quando usar</span><span class="sxs-lookup"><span data-stu-id="e7349-117">When to use</span></span>      |<ul><li><span data-ttu-id="e7349-118">O aplicativo depende muito do servidor e das instalações .msi locais.</span><span class="sxs-lookup"><span data-stu-id="e7349-118">Application has strong dependencies on the server and local .msi installations.</span></span></li><li><span data-ttu-id="e7349-119">Você deseja o caminho de migração do aplicativo mais fácil</span><span class="sxs-lookup"><span data-stu-id="e7349-119">You want to easiest application migration path</span></span></li></ul>|<span data-ttu-id="e7349-120">O aplicativo não tem nenhuma dependência do servidor, ele é apenas um aplicativo Web ASP.NET limpo (MVC, WebForm) ou um aplicativo de N Camadas (API da Web, WCf) acessando um servidor do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="e7349-120">App has no dependencies on the server, it is just a clean ASP.NET web app (MVC, WebForm) or N-Tier app (Web API, WCf) accessing a database server.</span></span> |<ul><li><span data-ttu-id="e7349-121">O aplicativo tem dependências no servidor original, mas essas dependências podem ser incluídas na imagem do Docker Windows.</span><span class="sxs-lookup"><span data-stu-id="e7349-121">Application has dependencies on the original server but those dependencies can be included in the Docker Windows image.</span></span></li><li><span data-ttu-id="e7349-122">Deseja modernizar o aplicativo para que seja [Cloud DevOps-Ready](https://docs.microsoft.com/dotnet/standard/modernize-with-azure-and-containers/lift-and-shift-existing-apps-devops/reasons-to-lift-and-shift-existing-net-apps-to-cloud-devops-ready-applications)</span><span class="sxs-lookup"><span data-stu-id="e7349-122">Want to modernize the app so it is [Cloud DevOps-Ready](https://docs.microsoft.com/dotnet/standard/modernize-with-azure-and-containers/lift-and-shift-existing-apps-devops/reasons-to-lift-and-shift-existing-net-apps-to-cloud-devops-ready-applications)</span></span></li></ul>|
|<span data-ttu-id="e7349-123">Vantagens e benefícios</span><span class="sxs-lookup"><span data-stu-id="e7349-123">Pros & benefits</span></span>  |<ul><li><span data-ttu-id="e7349-124">Caminho de migração mais fácil</span><span class="sxs-lookup"><span data-stu-id="e7349-124">Easiest migration path</span></span></li><li><span data-ttu-id="e7349-125">Ambiente familiar.</span><span class="sxs-lookup"><span data-stu-id="e7349-125">Familiar environment.</span></span> <span data-ttu-id="e7349-126">O ambiente de implantação é uma VM muito semelhante aos servidores locais.</span><span class="sxs-lookup"><span data-stu-id="e7349-126">Deployment environment is a VM so very similar to on-premises servers.</span></span></li></ul> |<span data-ttu-id="e7349-127">Manutenção PaaS contínua, um modo mais simples de gerenciar e dimensionar os aplicativos no Azure.</span><span class="sxs-lookup"><span data-stu-id="e7349-127">Ongoing PaaS maintenance, simplest way to manage and scale apps in Azure.</span></span> |<ul><li><span data-ttu-id="e7349-128">Preparado para o futuro, Cloud DevOps-Ready com dependências incluídas nos contêineres do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e7349-128">Prepared for the future, Cloud DevOps-Ready with dependencies included in the app’s containers.</span></span></li><li><span data-ttu-id="e7349-129">Quase não há necessidade de reestruturar o código do .NET/C#.</span><span class="sxs-lookup"><span data-stu-id="e7349-129">Almost no need to re-factor .NET /C# code.</span></span></li></ul> |
|<span data-ttu-id="e7349-130">Contras</span><span class="sxs-lookup"><span data-stu-id="e7349-130">Cons</span></span>             |<span data-ttu-id="e7349-131">É IaaS.</span><span class="sxs-lookup"><span data-stu-id="e7349-131">It is IaaS.</span></span> <span data-ttu-id="e7349-132">A manutenção é cara.</span><span class="sxs-lookup"><span data-stu-id="e7349-132">Maintenance is costly.</span></span> <span data-ttu-id="e7349-133">Você precisa gerenciar a infraestrutura de VMs quanto à rede, balanceador de carga, expansão, gerenciamento do IIS etc.</span><span class="sxs-lookup"><span data-stu-id="e7349-133">You have to manage VMs infrastructure about networking, load-balancer, scale-out, IIS management, etc.</span></span> |<ul><li><span data-ttu-id="e7349-134">Nem todos os aplicativos têm [suporte](http://www.migratetoazure.net/ReadinessAssessment)</span><span class="sxs-lookup"><span data-stu-id="e7349-134">Not all apps are [supported](http://www.migratetoazure.net/ReadinessAssessment)</span></span></li><li><span data-ttu-id="e7349-135">Alguns aplicativos talvez precisem ser reestruturados e até um pouco recriados para que suportem o Serviço de Aplicativo do Azure.</span><span class="sxs-lookup"><span data-stu-id="e7349-135">Some apps might need to be refactored and even slightly re-architected, so they support Azure App Service.</span></span></li></ul> |<ul><li><span data-ttu-id="e7349-136">Aprendizado das habilidades do Docker</span><span class="sxs-lookup"><span data-stu-id="e7349-136">Docker’s skills learning curve</span></span></li><li><span data-ttu-id="e7349-137">Algumas alterações nas definições de configuração do aplicativo e do código</span><span class="sxs-lookup"><span data-stu-id="e7349-137">Some code and app configuration settings changes</span></span></li></ul>|
|<span data-ttu-id="e7349-138">Requisitos</span><span class="sxs-lookup"><span data-stu-id="e7349-138">Requirements</span></span> |<span data-ttu-id="e7349-139">VM do Windows Server com os mesmos requisitos do aplicativo local</span><span class="sxs-lookup"><span data-stu-id="e7349-139">Windows Server VM with the same requirements than the app for on-premises</span></span> | <span data-ttu-id="e7349-140">Requisitos do Serviço de Aplicativo do Azure especificados na [Análise de compatibilidade do Serviço de Aplicativo do Azure](https://www.migratetoazure.net/Resources).</span><span class="sxs-lookup"><span data-stu-id="e7349-140">Azure App Service requirements specified at the [Compatibility analysis for Azure App Service](https://www.migratetoazure.net/Resources).</span></span> |<ul><li>[<span data-ttu-id="e7349-141">Windows Server 2016 com Contêineres - VM do Azure</span><span class="sxs-lookup"><span data-stu-id="e7349-141">Windows Server 2016 with Containers - Azure VM</span></span>](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.WindowsServer?tab=Overview)<br /><span data-ttu-id="e7349-142">ou o</span><span class="sxs-lookup"><span data-stu-id="e7349-142">or</span></span></li><li><span data-ttu-id="e7349-143">[Serviço de Contêiner do Azure (AKS)](https://azure.microsoft.com/services/container-service/) (que é o orquestrador Kubernetes)</span><span class="sxs-lookup"><span data-stu-id="e7349-143">[Azure Container Service (AKS)](https://azure.microsoft.com/services/container-service/) (That is Kubernetes orchestrator)</span></span><br /><span data-ttu-id="e7349-144">ou o</span><span class="sxs-lookup"><span data-stu-id="e7349-144">or</span></span><li><span data-ttu-id="e7349-145">Orquestrador [Azure Service Fabric](https://azure.microsoft.com/services/service-fabric/)</span><span class="sxs-lookup"><span data-stu-id="e7349-145">[Azure Service Fabric](https://azure.microsoft.com/services/service-fabric/) orchestrator</span></span></li></ul> |
|<span data-ttu-id="e7349-146">Como migrar</span><span class="sxs-lookup"><span data-stu-id="e7349-146">How to migrate</span></span> |<span data-ttu-id="e7349-147">Confira [Migrar para Máquinas Virtuais do Azure](https://go.microsoft.com/fwlink/?linkid=862531)</span><span class="sxs-lookup"><span data-stu-id="e7349-147">See [Migrate to Azure Virtual Machines](https://go.microsoft.com/fwlink/?linkid=862531)</span></span> | <span data-ttu-id="e7349-148">Confira [Migrar o Serviço de Aplicativo do Azure](https://go.microsoft.com/fwlink/?linkid=862532)</span><span class="sxs-lookup"><span data-stu-id="e7349-148">See [Migrate Azure App Service](https://go.microsoft.com/fwlink/?linkid=862532)</span></span> | <span data-ttu-id="e7349-149">Siga as considerações, cenários e o passo a passo explicado no [eBook Modernizando os aplicativos .NET existentes com Contêineres do Azure e Windows](https://aka.ms/liftandshiftwithcontainersebook)</span><span class="sxs-lookup"><span data-stu-id="e7349-149">Follow considerations, scenarios and walkthroughs explained in the [Modernizing existing .NET apps with Azure and Windows Containers eBook](https://aka.ms/liftandshiftwithcontainersebook)</span></span> |

 <span data-ttu-id="e7349-150">O fluxograma a seguir mostra uma árvore de decisão ao planejar uma migração para o Azure para seus aplicativos .NET Framework existentes, sendo a opção A a primeira a testar e executar se for viável, mas a opção B é o caminho mais fácil de executar.</span><span class="sxs-lookup"><span data-stu-id="e7349-150">The following flowchart diagram shows a decision tree when planning a migration to Azure for your existing .NET Framework applications, being option A the first option to try and perform if it is viable, but option B the easiest path to perform.</span></span>

![Fluxograma mostrando a árvore de decisão de hospedagem](media/dotnet-howto-choose-migration/decision-tree.png)

## <a name="database-choices"></a><span data-ttu-id="e7349-152">Opções de banco de dados</span><span class="sxs-lookup"><span data-stu-id="e7349-152">Database choices</span></span>

<span data-ttu-id="e7349-153">Ao migrar os bancos de dados relacionais para o Azure, você tem várias opções.</span><span class="sxs-lookup"><span data-stu-id="e7349-153">When migrating relational databases to Azure you have multiple choices.</span></span> <span data-ttu-id="e7349-154">Confira [Migrar seu banco de dados SQL Server para o Azure](https://go.microsoft.com/fwlink/?linkid=862533) para ajudá-lo a escolher o caminho de migração do banco de dados correto para seu aplicativo .NET existente.</span><span class="sxs-lookup"><span data-stu-id="e7349-154">See [Migrate your SQL Server database to Azure](https://go.microsoft.com/fwlink/?linkid=862533) to help you choose the right database migration path for your existing .NET application.</span></span>

## <a name="networking-and-security-considerations"></a><span data-ttu-id="e7349-155">Considerações de rede e segurança</span><span class="sxs-lookup"><span data-stu-id="e7349-155">Networking and security considerations</span></span>

<span data-ttu-id="e7349-156">Ao implantar aplicativos em uma nuvem pública, como o Microsoft Azure, convém isolar e proteger certas redes [criando redes de perímetro de rede](https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/), como um [rede de perímetro entre o Azure e o local](https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/secure-vnet-hybrid) ou um [rede de perímetro entre o Azure e a Internet](https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/secure-vnet-dmz).</span><span class="sxs-lookup"><span data-stu-id="e7349-156">When deploying applications to a public cloud like Microsoft Azure, you might want to isolate and secure certain networks by [creating network DMZs](https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/), such as a [DMZ between Azure and on-premises](https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/secure-vnet-hybrid) or a [DMZ between Azure and the Internet](https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/secure-vnet-dmz).</span></span> <span data-ttu-id="e7349-157">As redes de perímetro podem ser implementados com a [Rede Virtual do Azure](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview).</span><span class="sxs-lookup"><span data-stu-id="e7349-157">DMZs can be implemented with [Azure Virtual Network](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview).</span></span>
<span data-ttu-id="e7349-158">As redes virtuais do Azure permitem:</span><span class="sxs-lookup"><span data-stu-id="e7349-158">Azure Virtual networks enable you to:</span></span>

- <span data-ttu-id="e7349-159">compilar uma infraestrutura híbrida que você controla</span><span class="sxs-lookup"><span data-stu-id="e7349-159">Build a hybrid infrastructure that you control</span></span>
- <span data-ttu-id="e7349-160">trazer seus próprios endereços IP e servidores DNS</span><span class="sxs-lookup"><span data-stu-id="e7349-160">Bring your own IP addresses and DNS servers</span></span>
- <span data-ttu-id="e7349-161">proteger suas conexões com uma VPN IPsec ou ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="e7349-161">Secure your connections with an IPsec VPN or ExpressRoute</span></span>
- <span data-ttu-id="e7349-162">ter um controle granular do tráfego entre as sub-redes</span><span class="sxs-lookup"><span data-stu-id="e7349-162">Get granular control over traffic between subnets</span></span>
- <span data-ttu-id="e7349-163">criar topologias de rede sofisticadas usando soluções de virtualização</span><span class="sxs-lookup"><span data-stu-id="e7349-163">Create sophisticated network topologies using virtual appliances</span></span>
- <span data-ttu-id="e7349-164">ter um ambiente isolado e altamente seguro para seus aplicativos</span><span class="sxs-lookup"><span data-stu-id="e7349-164">Get an isolated and highly-secure environment for your applications</span></span>
 
<span data-ttu-id="e7349-165">Para começar a criar sua própria rede virtual, confira a [Documentação da Rede Virtual do Azure](https://docs.microsoft.com/azure/virtual-network/).</span><span class="sxs-lookup"><span data-stu-id="e7349-165">To get started building your own virtual network, see the [Azure Virtual Network documentation](https://docs.microsoft.com/azure/virtual-network/).</span></span>

## <a name="authentication-and-authorization-considerations-when-migrating-to-azure"></a><span data-ttu-id="e7349-166">Considerações de autenticação e autorização ao migrar para o Azure</span><span class="sxs-lookup"><span data-stu-id="e7349-166">Authentication and authorization considerations when migrating to Azure</span></span>

<span data-ttu-id="e7349-167">Uma preocupação principal de qualquer organização ao mover para a nuvem é a segurança.</span><span class="sxs-lookup"><span data-stu-id="e7349-167">A top concern of any organization moving to the cloud is security.</span></span> <span data-ttu-id="e7349-168">A maioria das empresas investiu uma quantidade significativa de tempo, dinheiro e engenharia ao projetar e desenvolver um modelo de segurança, e é importante que elas possam aproveitar os investimentos existentes, como armazenamentos de identidade e soluções de logon único.</span><span class="sxs-lookup"><span data-stu-id="e7349-168">Most companies have invested a substantial amount of time, money, and engineering into designing and developing a security model, and it’s important that they’re able to leverage existing investments such as identity stores and single sign-on solutions.</span></span>

<span data-ttu-id="e7349-169">Muitos aplicativos .NET B2E existentes de empresas em execução no local usam o Active Directory para a autenticação e o gerenciamento de identidades.</span><span class="sxs-lookup"><span data-stu-id="e7349-169">Many existing enterprise B2E .NET applications running on-premises use Active Directory for authentication and identity management.</span></span>  <span data-ttu-id="e7349-170">O Azure AD Connect permite integrar seus diretórios locais no Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="e7349-170">Azure AD Connect enables you to integrate your on-premises directories with Azure Active Directory.</span></span>  <span data-ttu-id="e7349-171">Para começar, confira [Integrar seus diretórios locais no Azure Active Directory](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect).</span><span class="sxs-lookup"><span data-stu-id="e7349-171">To get started, see [Integrate your on-premises directories with Azure Active Directory](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect).</span></span>

<span data-ttu-id="e7349-172">Confira [Requisitos de identidade para sua solução de identidade híbrida](https://docs.microsoft.com/azure/active-directory/active-directory-hybrid-identity-design-considerations-business-needs) para ter um planejamento adicional relacionado ao Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="e7349-172">See [Identity requirements for your hybrid identity solution](https://docs.microsoft.com/azure/active-directory/active-directory-hybrid-identity-design-considerations-business-needs) for further planning related to Azure Active Directory.</span></span>

<span data-ttu-id="e7349-173">As outras opções de protocolo de autenticação são [OAuth](https://en.wikipedia.org/wiki/OAuth) e [OpenID](https://en.wikipedia.org/wiki/OpenID), comuns nos aplicativos voltados para o consumidor.</span><span class="sxs-lookup"><span data-stu-id="e7349-173">Other authentication protocol choices are [OAuth](https://en.wikipedia.org/wiki/OAuth) and [OpenID](https://en.wikipedia.org/wiki/OpenID), which are common in consumer-facing applications.</span></span>  <span data-ttu-id="e7349-174">Ao usar bancos de dados de identidade autônomos, como um banco de dados SQL de Identidade do ASP.NET encapsulado pelo IdentityServer4 que usa o OAuth, geralmente não é necessária nenhuma conectividade com diretórios ou bancos de dados locais.</span><span class="sxs-lookup"><span data-stu-id="e7349-174">When using autonomous identity databases, such as an ASP.NET Identity SQL database wrapped by IdentityServer4 using OAuth, no connectivity to on-premises databases or directories is usually required.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e7349-175">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="e7349-175">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="e7349-176">Migrar um aplicativo Web ASP.NET para o Serviço de Aplicativo do Azure</span><span class="sxs-lookup"><span data-stu-id="e7349-176">Migrate an ASP.NET web application to Azure App Service</span></span>](dotnet-howto-migrate-app-service.md)